{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { m as macro } from '../../macros2.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\n\n// ----------------------------------------------------------------------------\n// vtkMouseCameraTrackballZoomManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballZoomManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballZoomManipulator');\n  publicAPI.onButtonDown = (interactor, renderer, position) => {\n    model.previousPosition = position;\n    const size = interactor.getView().getViewportSize(renderer);\n    const camera = renderer.getActiveCamera();\n    const direction = model.flipDirection ? -1 : 1;\n    if (camera.getParallelProjection()) {\n      model.zoomScale = 1.5 / size[1] * direction;\n    } else {\n      const range = camera.getClippingRange();\n      model.zoomScale = 1.5 * (range[1] / size[1]) * direction;\n    }\n  };\n  publicAPI.onMouseMove = (interactor, renderer, position) => {\n    if (!position) {\n      return;\n    }\n    const dy = model.previousPosition.y - position.y;\n    const camera = renderer.getActiveCamera();\n    if (camera.getParallelProjection()) {\n      const k = dy * model.zoomScale;\n      camera.setParallelScale((1.0 - k) * camera.getParallelScale());\n    } else {\n      const cameraPos = camera.getPosition();\n      const cameraFp = camera.getFocalPoint();\n      const norm = camera.getDirectionOfProjection();\n      const k = dy * model.zoomScale;\n      let tmp = k * norm[0];\n      cameraPos[0] += tmp;\n      cameraFp[0] += tmp;\n      tmp = k * norm[1];\n      cameraPos[1] += tmp;\n      cameraFp[1] += tmp;\n      tmp = k * norm[2];\n      cameraPos[2] += tmp;\n      cameraFp[2] += tmp;\n      if (!camera.getFreezeFocalPoint()) {\n        camera.setFocalPoint(cameraFp[0], cameraFp[1], cameraFp[2]);\n      }\n      camera.setPosition(cameraPos[0], cameraPos[1], cameraPos[2]);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n    model.previousPosition = position;\n  };\n  publicAPI.onScroll = (interactor, renderer, delta) => {\n    if (!delta) {\n      return;\n    }\n    const camera = renderer.getActiveCamera();\n    const dyf = 1 - delta / 10;\n    if (camera.getParallelProjection()) {\n      camera.setParallelScale(camera.getParallelScale() / dyf);\n    } else {\n      camera.dolly(dyf);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  zoomScale: 0.0,\n  flipDirection: false\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Inheritance\n  macro.obj(publicAPI, model);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  macro.setGet(publicAPI, model, ['flipDirection']);\n\n  // Object specific methods\n  vtkMouseCameraTrackballZoomManipulator(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballZoomManipulator');\n\n// ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballZoomManipulator$1 = {\n  newInstance,\n  extend\n};\nexport { vtkMouseCameraTrackballZoomManipulator$1 as default, extend, newInstance };","map":{"version":3,"names":["m","macro","vtkCompositeCameraManipulator","vtkCompositeMouseManipulator","vtkMouseCameraTrackballZoomManipulator","publicAPI","model","classHierarchy","push","onButtonDown","interactor","renderer","position","previousPosition","size","getView","getViewportSize","camera","getActiveCamera","direction","flipDirection","getParallelProjection","zoomScale","range","getClippingRange","onMouseMove","dy","y","k","setParallelScale","getParallelScale","cameraPos","getPosition","cameraFp","getFocalPoint","norm","getDirectionOfProjection","tmp","getFreezeFocalPoint","setFocalPoint","setPosition","resetCameraClippingRange","getLightFollowCamera","updateLightsGeometryToFollowCamera","onScroll","delta","dyf","dolly","DEFAULT_VALUES","extend","initialValues","arguments","length","undefined","Object","assign","obj","setGet","newInstance","vtkMouseCameraTrackballZoomManipulator$1","default"],"sources":["/home/ims/VSCodeProjects/TickerWeb/TickerWeb_Vue/node_modules/@kitware/vtk.js/Interaction/Manipulators/MouseCameraTrackballZoomManipulator.js"],"sourcesContent":["import { m as macro } from '../../macros2.js';\nimport vtkCompositeCameraManipulator from './CompositeCameraManipulator.js';\nimport vtkCompositeMouseManipulator from './CompositeMouseManipulator.js';\n\n// ----------------------------------------------------------------------------\n// vtkMouseCameraTrackballZoomManipulator methods\n// ----------------------------------------------------------------------------\n\nfunction vtkMouseCameraTrackballZoomManipulator(publicAPI, model) {\n  // Set our className\n  model.classHierarchy.push('vtkMouseCameraTrackballZoomManipulator');\n  publicAPI.onButtonDown = (interactor, renderer, position) => {\n    model.previousPosition = position;\n    const size = interactor.getView().getViewportSize(renderer);\n    const camera = renderer.getActiveCamera();\n    const direction = model.flipDirection ? -1 : 1;\n    if (camera.getParallelProjection()) {\n      model.zoomScale = 1.5 / size[1] * direction;\n    } else {\n      const range = camera.getClippingRange();\n      model.zoomScale = 1.5 * (range[1] / size[1]) * direction;\n    }\n  };\n  publicAPI.onMouseMove = (interactor, renderer, position) => {\n    if (!position) {\n      return;\n    }\n    const dy = model.previousPosition.y - position.y;\n    const camera = renderer.getActiveCamera();\n    if (camera.getParallelProjection()) {\n      const k = dy * model.zoomScale;\n      camera.setParallelScale((1.0 - k) * camera.getParallelScale());\n    } else {\n      const cameraPos = camera.getPosition();\n      const cameraFp = camera.getFocalPoint();\n      const norm = camera.getDirectionOfProjection();\n      const k = dy * model.zoomScale;\n      let tmp = k * norm[0];\n      cameraPos[0] += tmp;\n      cameraFp[0] += tmp;\n      tmp = k * norm[1];\n      cameraPos[1] += tmp;\n      cameraFp[1] += tmp;\n      tmp = k * norm[2];\n      cameraPos[2] += tmp;\n      cameraFp[2] += tmp;\n      if (!camera.getFreezeFocalPoint()) {\n        camera.setFocalPoint(cameraFp[0], cameraFp[1], cameraFp[2]);\n      }\n      camera.setPosition(cameraPos[0], cameraPos[1], cameraPos[2]);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n    model.previousPosition = position;\n  };\n  publicAPI.onScroll = (interactor, renderer, delta) => {\n    if (!delta) {\n      return;\n    }\n    const camera = renderer.getActiveCamera();\n    const dyf = 1 - delta / 10;\n    if (camera.getParallelProjection()) {\n      camera.setParallelScale(camera.getParallelScale() / dyf);\n    } else {\n      camera.dolly(dyf);\n      renderer.resetCameraClippingRange();\n    }\n    if (interactor.getLightFollowCamera()) {\n      renderer.updateLightsGeometryToFollowCamera();\n    }\n  };\n}\n\n// ----------------------------------------------------------------------------\n// Object factory\n// ----------------------------------------------------------------------------\n\nconst DEFAULT_VALUES = {\n  zoomScale: 0.0,\n  flipDirection: false\n};\n\n// ----------------------------------------------------------------------------\n\nfunction extend(publicAPI, model) {\n  let initialValues = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Object.assign(model, DEFAULT_VALUES, initialValues);\n\n  // Inheritance\n  macro.obj(publicAPI, model);\n  vtkCompositeMouseManipulator.extend(publicAPI, model, initialValues);\n  vtkCompositeCameraManipulator.extend(publicAPI, model, initialValues);\n  macro.setGet(publicAPI, model, ['flipDirection']);\n\n  // Object specific methods\n  vtkMouseCameraTrackballZoomManipulator(publicAPI, model);\n}\n\n// ----------------------------------------------------------------------------\n\nconst newInstance = macro.newInstance(extend, 'vtkMouseCameraTrackballZoomManipulator');\n\n// ----------------------------------------------------------------------------\n\nvar vtkMouseCameraTrackballZoomManipulator$1 = {\n  newInstance,\n  extend\n};\n\nexport { vtkMouseCameraTrackballZoomManipulator$1 as default, extend, newInstance };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}